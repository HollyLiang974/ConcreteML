# 非线性操作性能

| PTQ操作       | 时间               | QAT操作       | 时间               |
| ------------- | ------------------ | ------------- | ------------------ |
| Relu（2）     | 6.847213983535767  | Relu（2）     | 0.8796489238739014 |
| Relu（4）     | 6.460399150848389  | Relu（4）     | 1.992948055267334  |
| Relu（8）     | 11.218887329101562 | Relu（8）     | 11.218887329101562 |
| Relu（16）    | 17.99583864212036  | Relu（16）    | 17.99583864212036  |
| Sigmoid（2）  | 6.697510004043579  | Sigmoid（2）  | 0.8834824562072754 |
| Sigmoid（4）  | 6.287415981292725  | Sigmoid（4）  | 1.9966950416564941 |
| Sigmoid（8）  | 11.141309022903442 | Sigmoid（8）  | 12.107577085494995 |
| Sigmoid（16） | 17.311880588531494 | Sigmoid（16） | 17.827422618865967 |
| Tanh（2） | 6.769057750701904 | Tanh（2） | 0.8807275295257568 |
| Tanh（4） | 6.3758556842803955 | Tanh（4） |1.9580423831939697|
| Tanh（8） | 11.144591569900513 | Tanh（8） |11.189021825790405|
| Tanh（16） | 17.614615440368652 | Tanh（16） |17.056416511535645|

## 1. ReLu

### 1.1 PTQRelu

```
编译时间 0.10030698776245117
量化位数： 2 最大量化位数 5
推理时间 6.847213983535767
输入值： [[0.83390015]] 输出值: [[0.75379649]]
**************************************************
编译时间 0.07778406143188477
量化位数： 4 最大量化位数 5
推理时间 6.460399150848389
输入值： [[2.1577017]] 输出值: [[2.16716489]]
**************************************************
编译时间 0.14319229125976562
量化位数： 8 最大量化位数 8
推理时间 11.218887329101562
输入值： [[0.7612746]] 输出值: [[0.76746828]]
**************************************************
编译时间 22.180087089538574
量化位数： 16 最大量化位数 16
推理时间 17.99583864212036
输入值： [[-1.5955577]] 输出值: [[0.]]
**************************************************
```

### 1.2 QATRelu

```
编译时间 0.143998384475708
量化位数： 2 最大量化位数 2
推理时间 0.8796489238739014
输入值： [[-2.3480906]] 输出值: [[0.]]
**************************************************
编译时间 0.09072399139404297
量化位数： 4 最大量化位数 4
推理时间 1.992948055267334
输入值： [[-1.3121021]] 输出值: [[0.]]
**************************************************
编译时间 0.2159135341644287
量化位数： 8 最大量化位数 8
推理时间 11.574501276016235
输入值： [[0.11859792]] 输出值: [[0.11764707]]
**************************************************
编译时间 34.32835578918457
量化位数： 16 最大量化位数 16
推理时间 17.00180172920227
输入值： [[0.37856925]] 输出值: [[0.37857633]]
**************************************************
```

## 2. Sigmoid

### 2.1 PTQSigmoid

```
编译时间 0.10475993156433105
量化位数： 2 最大量化位数 5
推理时间 6.697510004043579
输入值： [[0.6136679]] 输出值: [[0.51173181]]
**************************************************
编译时间 0.07300877571105957
量化位数： 4 最大量化位数 5
推理时间 6.287415981292725
输入值： [[0.73963535]] 输出值: [[0.51173181]]
**************************************************
编译时间 0.15370774269104004
量化位数： 8 最大量化位数 8
推理时间 11.141309022903442
输入值： [[1.3874216]] 输出值: [[0.51669304]]
**************************************************
编译时间 24.646897792816162
量化位数： 16 最大量化位数 16
推理时间 17.311880588531494
输入值： [[0.16631685]] 输出值: [[0.51854887]]
**************************************************
```

### 2.2 QATSigmoid

```
编译时间 0.14424848556518555
量化位数： 2 最大量化位数 2
推理时间 0.8834824562072754
输入值： [[0.54924524]] 输出值: [[0.33333334]]
**************************************************
编译时间 0.09157347679138184
量化位数： 4 最大量化位数 4
推理时间 1.9966950416564941
输入值： [[1.4171908]] 输出值: [[0.80000004]]
**************************************************
编译时间 0.2286086082458496
量化位数： 8 最大量化位数 8
推理时间 12.107577085494995
输入值： [[-0.64309424]] 输出值: [[0.34117649]]
**************************************************
编译时间 39.87092733383179
量化位数： 16 最大量化位数 16
推理时间 17.827422618865967
输入值： [[-0.5321248]] 输出值: [[0.37001602]]
**************************************************
```

## 3. Tanh

### 3.1 PTQTanh

```
编译时间 0.168745756149292
量化位数： 2 最大量化位数 5
推理时间 6.769057750701904
输入值： [[-1.2576219]] 输出值: [[-0.33000097]]
**************************************************
编译时间 0.07364344596862793
量化位数： 4 最大量化位数 5
推理时间 6.3758556842803955
输入值： [[1.5362439]] 输出值: [[0.90750267]]
**************************************************
编译时间 0.14413022994995117
量化位数： 8 最大量化位数 8
推理时间 11.144591569900513
输入值： [[0.5202013]] 输出值: [[0.47639846]]
**************************************************
编译时间 21.114495992660522
量化位数： 16 最大量化位数 16
推理时间 17.614615440368652
输入值： [[0.25579426]] 输出值: [[0.25036529]]
**************************************************
```

### 3.2 QATTanh

```
编译时间 0.12461733818054199
量化位数： 2 最大量化位数 2
推理时间 0.8807275295257568
输入值： [[-2.3895686]] 输出值: [[-0.5]]
**************************************************
编译时间 0.09187698364257812
量化位数： 4 最大量化位数 4
推理时间 1.9580423831939697
输入值： [[1.6941237]] 输出值: [[0.875]]
**************************************************
编译时间 0.20768952369689941
量化位数： 8 最大量化位数 8
推理时间 11.189021825790405
输入值： [[-0.11018258]] 输出值: [[-0.1015625]]
**************************************************
编译时间 32.758795499801636
量化位数： 16 最大量化位数 16
推理时间 17.056416511535645
输入值： [[-0.3220763]] 输出值: [[-0.31137085]]
**************************************************
```

